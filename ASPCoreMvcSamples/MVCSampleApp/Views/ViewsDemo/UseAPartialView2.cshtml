@using MVCSampleApp.Models
@model EventsAndMenusContext
@{
    ViewBag.Title = "Use a Partial View";
} 
<script src="~/lib/jquery/dist/jquery.js"></script>
<script>
    (function () {
        window.onload = function () {
            var buttonEvents = document.getElementById("getEvents");
            buttonEvents.onclick = function () {
                if (window.fetch == null) {
                    output.innerHTML = "<div>window.fetch not supported. Use another browser</div>";
                    return;
                }
                //利用fetch代替Ajax从服务器下载部分视图
                var result = fetch("/ViewsDemo/ShowEvents");
                result.then(function (response){
                    return response.text();
                }).then(function (text){
                    var output = document.getElementById("output");
                        output.innerHTML = text;});
            };
        };
    })();
</script>
<h2>使用部分视图</h2>
<div>主页面</div>
<button id="getEvents">加载部分视图按钮</button>
<div id="output">
</div>
